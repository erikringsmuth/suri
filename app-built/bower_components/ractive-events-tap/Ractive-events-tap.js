(function(e,t){if(typeof module!="undefined"&&module.exports&&typeof require=="function")t(require("ractive"));else if(typeof define=="function"&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-events-tap plugin");t(e.Ractive)}})(typeof window!="undefined"?window:this,function(e){var t=function(e,t){var n,r,i,s,o;s=5,o=400,n=function(n){var r,i,u,a,f,l,c;if(n.which!==undefined&&n.which!==1)return;i=n.clientX,u=n.clientY,r=this,a=n.pointerId,f=function(e){if(e.pointerId!=a)return;t({node:r,original:e}),c()},l=function(e){if(e.pointerId!=a)return;(Math.abs(e.clientX-i)>=s||Math.abs(e.clientY-u)>=s)&&c()},c=function(){e.removeEventListener("MSPointerUp",f,!1),document.removeEventListener("MSPointerMove",l,!1),document.removeEventListener("MSPointerCancel",c,!1),e.removeEventListener("pointerup",f,!1),document.removeEventListener("pointermove",l,!1),document.removeEventListener("pointercancel",c,!1),e.removeEventListener("click",f,!1),document.removeEventListener("mousemove",l,!1)},window.navigator.pointerEnabled?(e.addEventListener("pointerup",f,!1),document.addEventListener("pointermove",l,!1),document.addEventListener("pointercancel",c,!1)):window.navigator.msPointerEnabled?(e.addEventListener("MSPointerUp",f,!1),document.addEventListener("MSPointerMove",l,!1),document.addEventListener("MSPointerCancel",c,!1)):(e.addEventListener("click",f,!1),document.addEventListener("mousemove",l,!1)),setTimeout(c,o)},window.navigator.pointerEnabled?e.addEventListener("pointerdown",n,!1):window.navigator.msPointerEnabled?e.addEventListener("MSPointerDown",n,!1):e.addEventListener("mousedown",n,!1),r=function(n){var r,i,u,a,f,l,c,h;if(n.touches.length!==1)return;a=n.touches[0],i=a.clientX,u=a.clientY,r=this,f=a.identifier,c=function(e){var n;n=e.changedTouches[0],n.identifier!==f&&h(),e.preventDefault(),t({node:r,original:e}),h()},l=function(e){var t;(e.touches.length!==1||e.touches[0].identifier!==f)&&h(),t=e.touches[0],(Math.abs(t.clientX-i)>=s||Math.abs(t.clientY-u)>=s)&&h()},h=function(){e.removeEventListener("touchend",c,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("touchcancel",h,!1)},e.addEventListener("touchend",c,!1),window.addEventListener("touchmove",l,!1),window.addEventListener("touchcancel",h,!1),setTimeout(h,o)},e.addEventListener("touchstart",r,!1);if(e.tagName==="BUTTON"||e.type==="button")i=function(){var n,r;r=function(n){n.which===32&&t({node:e,original:n})},n=function(){e.removeEventListener("keydown",r,!1),e.removeEventListener("blur",n,!1)},e.addEventListener("keydown",r,!1),e.addEventListener("blur",n,!1)},e.addEventListener("focus",i,!1);return{teardown:function(){e.removeEventListener("pointerdown",n,!1),e.removeEventListener("MSPointerDown",n,!1),e.removeEventListener("mousedown",n,!1),e.removeEventListener("touchstart",r,!1),e.removeEventListener("focus",i,!1)}}};e.events.tap=t});