define(["./core","./var/strundefined","./var/concat","./var/push","./var/deletedIds","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./core/init","./data/accepts","./traversing","./selector","./event"],function(e,t,n,r,i,s,o,u){function a(e){var t=f.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function N(n,r){var i,s,o=0,u=typeof n.getElementsByTagName!==t?n.getElementsByTagName(r||"*"):typeof n.querySelectorAll!==t?n.querySelectorAll(r||"*"):undefined;if(!u)for(u=[],i=n.childNodes||n;(s=i[o])!=null;o++)!r||e.nodeName(s,r)?u.push(s):e.merge(u,N(s,r));return r===undefined||r&&e.nodeName(n,r)?e.merge([n],u):u}function C(e){o.test(e.type)&&(e.defaultChecked=e.checked)}function k(t,n){return e.nodeName(t,"table")&&e.nodeName(n.nodeType!==11?n:n.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function L(t){return t.type=(e.find.attr(t,"type")!==null)+"/"+t.type,t}function A(e){var t=w.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function O(t,n){var r,i=0;for(;(r=t[i])!=null;i++)e._data(r,"globalEval",!n||e._data(n[i],"globalEval"))}function M(t,n){if(n.nodeType!==1||!e.hasData(t))return;var r,i,s,o=e._data(t),u=e._data(n,o),a=o.events;if(a){delete u.handle,u.events={};for(r in a)for(i=0,s=a[r].length;i<s;i++)e.event.add(n,r,a[r][i])}u.data&&(u.data=e.extend({},u.data))}function _(t,n){var r,i,s;if(n.nodeType!==1)return;r=n.nodeName.toLowerCase();if(!u.noCloneEvent&&n[e.expando]){s=e._data(n);for(i in s.events)e.removeEvent(n,i,s.handle);n.removeAttribute(e.expando)}if(r==="script"&&n.text!==t.text)L(n).text=t.text,A(n);else if(r==="object")n.parentNode&&(n.outerHTML=t.outerHTML),u.html5Clone&&t.innerHTML&&!e.trim(n.innerHTML)&&(n.innerHTML=t.innerHTML);else if(r==="input"&&o.test(t.type))n.defaultChecked=n.checked=t.checked,n.value!==t.value&&(n.value=t.value);else if(r==="option")n.defaultSelected=n.selected=t.defaultSelected;else if(r==="input"||r==="textarea")n.defaultValue=t.defaultValue}var f="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",l=/ jQuery\d+="(?:null|\d+)"/g,c=new RegExp("<(?:"+f+")[\\s/>]","i"),h=/^\s+/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/<([\w:]+)/,v=/<tbody/i,m=/<|&#?\w+;/,g=/<(?:script|style|link)/i,y=/checked\s*(?:[^=]|=\s*.checked.)/i,b=/^$|\/(?:java|ecma)script/i,w=/^true\/(.*)/,E=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,S={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:u.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},x=a(document),T=x.appendChild(document.createElement("div"));return S.optgroup=S.option,S.tbody=S.tfoot=S.colgroup=S.caption=S.thead,S.th=S.td,e.extend({clone:function(t,n,r){var i,s,o,a,f,l=e.contains(t.ownerDocument,t);u.html5Clone||e.isXMLDoc(t)||!c.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(T.innerHTML=t.outerHTML,T.removeChild(o=T.firstChild));if((!u.noCloneEvent||!u.noCloneChecked)&&(t.nodeType===1||t.nodeType===11)&&!e.isXMLDoc(t)){i=N(o),f=N(t);for(a=0;(s=f[a])!=null;++a)i[a]&&_(s,i[a])}if(n)if(r){f=f||N(t),i=i||N(o);for(a=0;(s=f[a])!=null;a++)M(s,i[a])}else M(t,o);return i=N(o,"script"),i.length>0&&O(i,!l&&N(t,"script")),i=f=s=null,o},buildFragment:function(t,n,r,i){var s,o,f,l,c,g,y,w=t.length,E=a(n),x=[],T=0;for(;T<w;T++){o=t[T];if(o||o===0)if(e.type(o)==="object")e.merge(x,o.nodeType?[o]:o);else if(!m.test(o))x.push(n.createTextNode(o));else{l=l||E.appendChild(n.createElement("div")),c=(d.exec(o)||["",""])[1].toLowerCase(),y=S[c]||S._default,l.innerHTML=y[1]+o.replace(p,"<$1></$2>")+y[2],s=y[0];while(s--)l=l.lastChild;!u.leadingWhitespace&&h.test(o)&&x.push(n.createTextNode(h.exec(o)[0]));if(!u.tbody){o=c==="table"&&!v.test(o)?l.firstChild:y[1]==="<table>"&&!v.test(o)?l:0,s=o&&o.childNodes.length;while(s--)e.nodeName(g=o.childNodes[s],"tbody")&&!g.childNodes.length&&o.removeChild(g)}e.merge(x,l.childNodes),l.textContent="";while(l.firstChild)l.removeChild(l.firstChild);l=E.lastChild}}l&&E.removeChild(l),u.appendChecked||e.grep(N(x,"input"),C),T=0;while(o=x[T++]){if(i&&e.inArray(o,i)!==-1)continue;f=e.contains(o.ownerDocument,o),l=N(E.appendChild(o),"script"),f&&O(l);if(r){s=0;while(o=l[s++])b.test(o.type||"")&&r.push(o)}}return l=null,E},cleanData:function(n,r){var s,o,a,f,l=0,c=e.expando,h=e.cache,p=u.deleteExpando,d=e.event.special;for(;(s=n[l])!=null;l++)if(r||e.acceptData(s)){a=s[c],f=a&&h[a];if(f){if(f.events)for(o in f.events)d[o]?e.event.remove(s,o):e.removeEvent(s,o,f.handle);h[a]&&(delete h[a],p?delete s[c]:typeof s.removeAttribute!==t?s.removeAttribute(c):s[c]=null,i.push(a))}}}}),e.fn.extend({text:function(t){return s(this,function(t){return t===undefined?e.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=k(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=k(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(t,n){var r,i=t?e.filter(t,this):this,s=0;for(;(r=i[s])!=null;s++)!n&&r.nodeType===1&&e.cleanData(N(r)),r.parentNode&&(n&&e.contains(r.ownerDocument,r)&&O(N(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){var t,n=0;for(;(t=this[n])!=null;n++){t.nodeType===1&&e.cleanData(N(t,!1));while(t.firstChild)t.removeChild(t.firstChild);t.options&&e.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,n){return t=t==null?!1:t,n=n==null?t:n,this.map(function(){return e.clone(this,t,n)})},html:function(t){return s(this,function(t){var n=this[0]||{},r=0,i=this.length;if(t===undefined)return n.nodeType===1?n.innerHTML.replace(l,""):undefined;if(typeof t=="string"&&!g.test(t)&&(u.htmlSerialize||!c.test(t))&&(u.leadingWhitespace||!h.test(t))&&!S[(d.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(p,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(e.cleanData(N(n,!1)),n.innerHTML=t);n=0}catch(s){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(n){t=this.parentNode,e.cleanData(N(this)),t&&t.replaceChild(n,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(t,r){t=n.apply([],t);var i,s,o,a,f,l,c=0,h=this.length,p=this,d=h-1,v=t[0],m=e.isFunction(v);if(m||h>1&&typeof v=="string"&&!u.checkClone&&y.test(v))return this.each(function(e){var n=p.eq(e);m&&(t[0]=v.call(this,e,n.html())),n.domManip(t,r)});if(h){l=e.buildFragment(t,this[0].ownerDocument,!1,this),i=l.firstChild,l.childNodes.length===1&&(l=i);if(i){a=e.map(N(l,"script"),L),o=a.length;for(;c<h;c++)s=l,c!==d&&(s=e.clone(s,!0,!0),o&&e.merge(a,N(s,"script"))),r.call(this[c],s,c);if(o){f=a[a.length-1].ownerDocument,e.map(a,A);for(c=0;c<o;c++)s=a[c],b.test(s.type||"")&&!e._data(s,"globalEval")&&e.contains(f,s)&&(s.src?e._evalUrl&&e._evalUrl(s.src):e.globalEval((s.text||s.textContent||s.innerHTML||"").replace(E,"")))}l=i=null}}return this}}),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(t){var i,s=0,o=[],u=e(t),a=u.length-1;for(;s<=a;s++)i=s===a?this:this.clone(!0),e(u[s])[n](i),r.apply(o,i.get());return this.pushStack(o)}}),e});