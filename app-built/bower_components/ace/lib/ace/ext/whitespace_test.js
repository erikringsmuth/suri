typeof process!="undefined"&&(require("amd-loader"),require("../test/mockdom")),define(["require","exports","module","assert","../edit_session","./whitespace"],function(e,t,n){var r=e("assert"),i=e("../edit_session").EditSession,s=e("./whitespace");n.exports={timeout:1e4,"test tab detection":function(e){var t=new i(["define({","	foo:1,","	bar:2,","	baz:{,","		x:3","	}","})"]),n=s.$detectIndentation(t.doc.$lines);r.equal(n.ch,"	"),r.equal(n.length,undefined),t.insert({row:0,column:0},"    "),n=s.$detectIndentation(t.doc.$lines),r.equal(n.ch,"	"),r.equal(n.length,4),t.setValue(""),n=s.$detectIndentation(t.doc.$lines),r.ok(!n),e()},"test empty session":function(e){var t=new i(["define({","foo:1,","})"]),n=s.$detectIndentation(t.doc.$lines);r.ok(!n),t.insert({row:1,column:0},"    x\n    "),n=s.$detectIndentation(t.doc.$lines),r.equal(n.ch," "),r.equal(n.length,4),e()},"!test one line":function(e){var t=new i(["define({","    foo:1,","})"]),n=s.$detectIndentation(t.doc.$lines);r.equal(n.ch," "),r.equal(n.length,4),e()},"test 1 width indents":function(e){var t=new i(["define({","    foo:1,","})","define({","    bar:1,","})","     t","      t","     t","      t","     t","      t","     t","      t"]),n=s.$detectIndentation(t.doc.$lines);t=new i(["{"," foo:1,"," bar: {","  baz:2"," }","}"]),n=s.$detectIndentation(t.doc.$lines),r.equal(n.ch," "),r.equal(n.length,1),e()}}}),typeof module!="undefined"&&module===require.main&&require("asyncjs").test.testcase(module.exports).exec();