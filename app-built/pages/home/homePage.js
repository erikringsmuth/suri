// Copyright (C) 2014 Erik Ringsmuth <erik.ringsmuth@gmail.com>

define(["require","Ractive","rv!./homeTemplate","layouts/search/layout","components/apiSequence/apiSequence","components/xhrPanel/xhrPanel","bower_components/URIjs/src/URI","jquery"],function(e){var t=e("Ractive"),n=e("rv!./homeTemplate"),r=e("layouts/search/layout"),i=e("components/apiSequence/apiSequence"),s=e("components/xhrPanel/xhrPanel"),o=e("bower_components/URIjs/src/URI"),u=e("jquery"),a=t.extend({template:n,init:function(){var e=new i({el:this.nodes["api-sequence"]}),t=new o(window.location.href);t.fragment()&&(t=new o(t.fragment()),t.toString().indexOf("q=")!==-1&&u.ajax("/xhr"+t.search()).done(function(e){this.set("xhrs",e)}.bind(this))),this.on({teardown:function(){e.teardown()},openResult:function(t,n){new s({data:n})}})}});return r.extend({components:{"content-placeholder":a}})});