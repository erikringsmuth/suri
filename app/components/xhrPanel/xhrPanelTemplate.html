<!-- Copyright (C) 2014 Erik Ringsmuth <erik.ringsmuth@gmail.com> -->
<div class="panel panel-default xhr-panel" id="{{panelId}}">

  <div class="panel-heading">
    <input type="text" id="panel-name" value="{{name}}" placeholder="Name">
    <div class="panel-heading-options pull-right">
      <span><i class="fa fa-caret-square-o-right"></i> {{callCount}}</span>
      <button type="button" on-click="star" class="btn btn-default" disabled="{{!id}}"><i class="fa fa-star {{starred ? 'starred' : ''}}"></i> {{stars.length}}</button>
      <span><i class="fa fa-code-fork"></i> {{forks.length}}</span>
      <button type="button" on-click="toggleOptions" class="btn btn-default"><i class="fa fa-cog options-cog {{showOptions ? 'active' : 'inactive'}}"></i> Options</button>
      <button type="button" on-click="teardown" aria-hidden="true"><i class="fa fa-times"></i></button>
    </div>
  </div>

  {{#showOptions}}
  <div class="panel-options" intro-outro="slide:{duration:120}">
    <div class="row">
      <div class="col-sm-4 pull-right">
        <div class="save-options pull-right">
          <button type="button" id="save" on-click="save" class="btn btn-{{saveButtonClass}}" disabled="{{!isOwner || !signedIn}}"><i class="fa fa-save"></i> Save</button>
          <button type="button" id="delete" on-click="delete" class="btn btn-default" disabled="{{!isOwner}}"><i class="fa fa-trash-o"></i> Delete</button>
          <button type="button" id="fork" on-click="fork" class="btn btn-default"><i class="fa fa-code-fork"></i> Fork</button>
        </div>
      </div>
      <div class="col-sm-4">
        <div><label>id</label> <a href="#/?xhr={{id}}" class="text-muted">{{id}}</a></div>
        <div><label>owner</label> <a href="#/users/{{owner}}" class="text-muted">{{owner}}</a></div>
        {{#forkedFrom}}<div><label>forked from</label> <a href="#/?xhr={{forkedFrom}}">{{forkedFrom}}</a></div>{{/forkedFrom}}
      </div>
      <div class="col-sm-4">
        {{#isOwner}}<div><label><input type="checkbox" checked="{{isPublic}}"> public</label></div>{{/isOwner}}
        <div><label><input type="checkbox" checked="{{corsEnabled}}"> cors enabled</label></div>
        <div><label><input type="checkbox" checked="{{depricated}}" disabled="{{!isOwner}}"> depricated</label></div>
      </div>
    </div>
    <div>
      <h4>info</h4>
      <textarea rows="2" value="{{info}}"></textarea>
    </div>
    <div>
      <h4>tags</h4>
      <textarea rows="1" value="{{tags}}"></textarea>
    </div>
  </div>
  {{/showOptions}}

  <div class="panel-body">

    <div class="uri">
      <select value="{{method}}">
        <option value="GET">GET</option>
        <option value="POST">POST</option>
        <option value="PUT">PUT</option>
        <option value="PATCH">PATCH</option>
        <option value="DELETE">DELETE</option>
        <option value="HEAD">HEAD</option>
        <option value="OPTIONS">OPTIONS</option>
        <option value="TRACE">TRACE</option>
      </select>
      <input id="url" type="text" value="{{url}}" on-keypress="sendOnEnter" placeholder="http://">
      <span class="text-muted pull-right">HTTP/1.1</span>
    </div>
    <h4>request headers</h4>
<textarea rows="1" value="{{headers}}"></textarea>
    <h4>request body</h4>
<textarea value="{{body}}"></textarea>
    <button id="send" on-click="send" type="button" class="btn btn-{{sendButtonClass}}" disabled="{{sendButtonDisabled}}">Send&nbsp;&nbsp;<i class="fa fa-caret-square-o-right"></i></button>
    <h4>response headers</h4>
<pre><code id="responseHeaders">{{responseHeaders}}</code></pre>

    <h4>response body</h4>
<pre><code id="responseBody"></code></pre>
    {{#showMoreButton}}
    <button id="showMoreButton" on-click="displayEntireResponse" type="button" class="btn btn-default">Show full response ({{formatNumber(responseBody.length)}} characters)</button>
    {{/showMoreButton}}

  </div>
</div>
